<?php
{% if record.phpNamespace %}

namespace {{ record.phpNamespace }};
{% endif -%}
{% for import in record.imports -%}
{% if loop.first %}

{% endif %}
use {{ import }};
{% endfor %}

class {{ record.name }}
{

    {% for field in record.fields -%}
    /** @var {{ field.phpDocType }} */
    private ${{ field.name }};

    {% endfor -%}

    {% for field in record.fields -%}
    /** @return {{ field.phpDocType }} */
    {% if field.phpType -%}
    public function get{{ field.name | ucFirst }}(): {{ field.phpType }}
    {% else -%}
    public function get{{ field.name | ucFirst }}()
    {% endif -%}
    {
        return $this->{{ field.name }};
    }

    /** @param {{ field.phpDocType }} ${{ field.name }} */
    {% if field.phpType -%}
    public function set{{ field.name | ucFirst }}({{ field.phpType }} ${{ field.name }}): {{ record.name }}
    {% else -%}
    public function set{{ field.name | ucFirst }}(${{ field.name }}): {{ record.name }}
    {% endif -%}
    {
        $this->{{ field.name }} = ${{ field.name }};
        return $this;
    }

    {% endfor -%}
    public function data(): array
    {
        return [
            {% for field in record.fields %}
            "{{ field.name }}" => get{{ field.name|ucFirst }}(),
            {% endfor -%}
        ];
    }

    public const schema = <<<SCHEMA
{{ record.schema|raw }}
SCHEMA;

}